<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plataforma de Cuidadores</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: Arial, sans-serif; background-color: #f8f9fa; }
    header { background-color: #2c3e50; color: white; padding: 20px; text-align: center; }
    h1 { margin:0; }
    .section-title { color: #2c3e50; margin-top: 30px; }
    .card-custom { background-color: #fff; border-radius: 10px; padding: 15px; margin-bottom: 15px; box-shadow: 0 3px 6px rgba(0,0,0,0.1); }
    footer { background-color: #2c3e50; color: white; text-align: center; padding: 15px; margin-top: 30px; }
  </style>
</head>
<body>

<header>
  <h1>Plataforma de Cuidadores</h1>
</header>

<div class="container mt-4">

  <!-- Menu -->
  <nav class="mb-4">
    <ul class="nav nav-pills justify-content-center">
      <li class="nav-item"><a class="nav-link active" href="#home">Home</a></li>
      <li class="nav-item"><a class="nav-link" href="#sobre">Sobre</a></li>
      <li class="nav-item"><a class="nav-link" href="#servicos">Serviços</a></li>
    </ul>
  </nav>

  <!-- Home -->
  <section id="home">
    <h2 class="section-title">Bem-vindo à Plataforma de Cuidadores</h2>
    <p>Encontre cuidadores de confiança para idosos, saúde ou crianças. Cadastre-se, agende e entre em contato de forma rápida e segura.</p>
  </section>

  <!-- Sobre -->
  <section id="sobre">
    <h2 class="section-title mt-4">Sobre</h2>
    <p>Nosso objetivo é conectar cuidadores qualificados a quem precisa de assistência, garantindo segurança, qualidade e praticidade.</p>
  </section>

  <!-- Serviços -->
  <section id="servicos">
    <h2 class="section-title mt-4">Serviços</h2>
    <ul>
      <li>Cuidador de Idosos</li>
      <li>Cuidador de Saúde</li>
      <li>Cuidador Infantil</li>
    </ul>
  </section>

  <!-- Cadastro de Cuidadores -->
  <h2 class="section-title mt-4">Cadastrar Cuidador</h2>
  <form id="formCadastroCuidador">
    <div class="mb-3">
      <label for="nomeCuidador" class="form-label">Nome</label>
      <input type="text" class="form-control" id="nomeCuidador" required>
    </div>
    <div class="mb-3">
      <label for="emailCuidador" class="form-label">Email</label>
      <input type="email" class="form-control" id="emailCuidador" required>
    </div>
    <div class="mb-3">
      <label for="tipoServicoCuidador" class="form-label">Tipo de Serviço</label>
      <select class="form-select" id="tipoServicoCuidador" required>
        <option value="idoso">Cuidador de Idosos</option>
        <option value="saude">Cuidador de Saúde</option>
        <option value="infantil">Cuidador Infantil</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Cadastrar</button>
  </form>

  <h3 class="mt-4">Cuidadores Cadastrados</h3>
  <div class="mb-3">
    <label for="filtroTipo" class="form-label">Filtrar por tipo:</label>
    <select id="filtroTipo" class="form-select">
      <option value="todos">Todos</option>
      <option value="idoso">Idosos</option>
      <option value="saude">Saúde</option>
      <option value="infantil">Infantil</option>
    </select>
  </div>
  <ul id="listaCuidadores" class="list-group mb-5"></ul>

  <!-- Pacientes -->
  <h2 class="section-title">Pacientes</h2>
  <div id="listaPacientes"></div>

  <!-- Agendamento -->
  <h2 class="section-title mt-4">Agendar Cuidador</h2>
  <form id="formAgendamento">
    <div class="mb-3">
      <label for="selectCuidador" class="form-label">Escolha o Cuidador</label>
      <select id="selectCuidador" class="form-select" required></select>
    </div>
    <div class="mb-3">
      <label for="selectPaciente" class="form-label">Escolha o Paciente</label>
      <select id="selectPaciente" class="form-select" required></select>
    </div>
    <div class="mb-3">
      <label for="dataAgendamento" class="form-label">Data</label>
      <input type="date" class="form-control" id="dataAgendamento" required>
    </div>
    <div class="mb-3">
      <label for="horaAgendamento" class="form-label">Hora</label>
      <input type="time" class="form-control" id="horaAgendamento" required>
    </div>
    <button type="submit" class="btn btn-success">Agendar</button>
  </form>

  <h3 class="mt-4">Agendamentos</h3>
  <div id="listaAgendamentos"></div>

  <!-- Contato -->
  <h2 class="section-title mt-5">Contato</h2>
  <form id="formContato">
    <div class="mb-3">
      <label for="nomeContato" class="form-label">Nome</label>
      <input type="text" class="form-control" id="nomeContato" required>
    </div>
    <div class="mb-3">
      <label for="emailContato" class="form-label">Email</label>
      <input type="email" class="form-control" id="emailContato" required>
    </div>
    <div class="mb-3">
      <label for="mensagemContato" class="form-label">Mensagem</label>
      <textarea class="form-control" id="mensagemContato" rows="4" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Enviar</button>
  </form>

</div>

<footer>
  <p>&copy; 2025 Plataforma de Cuidadores</p>
</footer>

<script>
  // Pacientes
  const pacientes = [
    {nome:"Lucas", idade:4},
    {nome:"Ana", idade:30},
    {nome:"Sr. José", idade:75},
    {nome:"Pedro", idade:50},
    {nome:"Helena", idade:68}
  ];

  function carregarPacientes() {
    const div = document.getElementById('listaPacientes');
    const selectPaciente = document.getElementById('selectPaciente');
    div.innerHTML = '';
    selectPaciente.innerHTML = '';
    pacientes.forEach((p, i) => {
      div.innerHTML += `<div class="card-custom"><strong>${p.nome}</strong> - ${p.idade} anos</div>`;
      selectPaciente.innerHTML += `<option value="${i}">${p.nome}</option>`;
    });
  }

  function carregarCuidadores() {
    const lista = document.getElementById('listaCuidadores');
    const selectCuidador = document.getElementById('selectCuidador');
    const filtro = document.getElementById('filtroTipo').value;
    lista.innerHTML = '';
    selectCuidador.innerHTML = '';
    const cuidadores = JSON.parse(localStorage.getItem('cuidadores')) || [];
    cuidadores.filter(c => filtro==='todos' || c.tipoServico===filtro).forEach((c, i) => {
      lista.innerHTML += `<li class="list-group-item">${c.nome} - ${c.email} - ${c.tipoServico}</li>`;
      selectCuidador.innerHTML += `<option value="${i}">${c.nome} (${c.tipoServico})</option>`;
    });
  }

  document.getElementById('filtroTipo').addEventListener('change', carregarCuidadores);

  document.getElementById('formCadastroCuidador').addEventListener('submit', function(e){
    e.preventDefault();
    const nome = document.getElementById('nomeCuidador').value.trim();
    const email = document.getElementById('emailCuidador').value.trim();
    const tipoServico = document.getElementById('tipoServicoCuidador').value;
    if(!nome || !email) return alert('Preencha todos os campos!');
    const cuidadores = JSON.parse(localStorage.getItem('cuidadores')) || [];
    cuidadores.push({nome,email,tipoServico});
    localStorage.setItem('cuidadores', JSON.stringify(cuidadores));
    this.reset();
    carregarCuidadores();
  });

  function carregarAgendamentos() {
    const div = document.getElementById('listaAgendamentos');
    div.innerHTML = '';
    const agendamentos = JSON.parse(localStorage.getItem('agendamentos')) || [];
    agendamentos.forEach(a => {
      div.innerHTML += `<div class="card-custom">Cuidador: ${a.cuidador} → Paciente: ${a.paciente}<br>Data: ${a.data} | Hora: ${a.hora}</div>`;
    });
  }

  document.getElementById('formAgendamento').addEventListener('submit', function(e){
    e.preventDefault();
    const cuidadores = JSON.parse(localStorage.getItem('cuidadores')) || [];
    const agendamentos = JSON.parse(localStorage.getItem('agendamentos')) || [];
    const cuidador = cuidadores[document.getElementById('selectCuidador').value].nome;
    const paciente = pacientes[document.getElementById('selectPaciente').value].nome;
    const data = document.getElementById('dataAgendamento').value;
    const hora = document.getElementById('horaAgendamento').value;

    if(agendamentos.some(a => a.cuidador === cuidador && a.data===data && a.hora===hora)) {
      return alert('Este cuidador já está agendado neste horário!');
    }

    agendamentos.push({cuidador,paciente,data,hora});
    localStorage.setItem('agendamentos', JSON.stringify(agendamentos));
    this.reset();
    carregarAgendamentos();
  });

  document.getElementById('formContato').addEventListener('submit', function(e){
    e.preventDefault();
    alert('Mensagem enviada com sucesso!');
    this.reset();
  });

  // Bloquear datas passadas e finais de semana
  const dataInput = document.getElementById('dataAgendamento');
  const hoje = new Date();
  const ano = hoje.getFullYear();
  const mes = String(hoje.getMonth() + 1).padStart(2,'0');
  const dia = String(hoje.getDate()).padStart(2,'0');
  dataInput.min = `${ano}-${mes}-${dia}`;

  dataInput.addEventListener('input', function() {
    const dataSelecionada = new Date(this.value);
    const diaSemana = dataSelecionada.getDay();
    if(diaSemana === 0 || diaSemana === 6) {
      alert('Finais de semana não são permitidos. Escolha um dia útil.');
      this.value = '';
    }
  });

  // Inicialização
  carregarPacientes();
  carregarCuidadores();
  carregarAgendamentos();
</script>

</body>
</html>
